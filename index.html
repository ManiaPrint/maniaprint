<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mania Print — 3D Printing Studio</title>
  <meta name="description" content="Mania Print — professional 3D printing services: prototyping, small-batch production, repairs, finishing and custom design." />
  <link rel="icon" type="image/png" href="images/logo.png" />
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="site-header">
    <div class="container header-container">
      <div class="logo-container">
        <img src="images/logo-transparent.png" alt="Mania Print Logo" class="logo-img" onerror="this.style.display='none'">
        <a class="logo" href="index.html">Mania Print</a>
      </div>
      <nav class="nav" id="nav">
        <a href="#services">Services</a>
        <a href="#pricing">Pricing</a>
        <a href="#contact">Contact</a>
        <a href="products" class="nav-products">Products</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <section class="hero">
      <div>
        <h1>Mania Print — 3D printing that turns imagination to reality</h1>
        <p class="lead">Fast prototyping, high-detail miniatures, functional parts and small-batch production. We handle design checks, print, post-processing and finishing — so you get parts that actually work.</p>

        <div class="kpis">
          <div class="kpi card"><b>48h</b><span class="small">Typical prototype turnaround</span></div>
          <div class="kpi card"><b>Infinite</b><span class="small">Possible designs and prints</span></div>
          <div class="kpi card"><b>99%</b><span class="small">First-print success</span></div>
        </div>

        <div style="margin-top:28px;display:flex;gap:12px;flex-wrap:wrap">
          <a class="cta ghost" href="products">Products</a>
        </div>
      </div>

      <aside class="card">
        <h3>Quick order</h3>
        <p class="note">Upload a file and we'll respond with a printability check & estimate. No account required.</p>

        <form id="uploadForm" action="https://getform.io/f/bqoelodb" method="POST" enctype="multipart/form-data" class="fieldset">
          <label class="note">Your name</label>
          <input id="uploadName" name="name" placeholder="Your name" required />

          <label class="note">Your email</label>
          <input id="uploadEmail" name="email" type="email" placeholder="you@example.com" required />

          <label class="note">Material</label>
          <select id="uploadMaterial" name="material" required class="hidden">
            <option value="PLA">PLA</option>
          </select>
          
          <div id="material-dropdown" class="custom-select">
            <button type="button" class="custom-select-button">PLA ▾</button>
            <div class="custom-select-options hidden">
              <div class="custom-select-option" data-value="PLA">PLA</div>
              <div class="custom-select-option disabled" data-value="">More Coming Soon!</div>
            </div>
          </div>

          <label class="note">Upload file</label>
          <input id="uploadFile" name="file" type="file" accept=".stl,.obj,.step,.stp,.3mf" />

          <small class="note">Files are sent securely to our inbox.</small>
          <button class="cta" id="uploadSubmit" type="submit">Send request</button>

          <div id="uploadStatus" class="note" style="display:none;margin-top:8px"></div>
        </form>
      </aside>
    </section>

    <section id="services">
      <h2>Services</h2>
      <div class="services">
        <div class="service card">
          <h3>Rapid Prototyping</h3>
          <p>Fast-turn, iterative printing for product development — low cost, high feedback speed.</p>
        </div>
        <div class="service card">
          <h3>High-detail Resin</h3>
          <p>Cast-quality miniatures, jewellery patterns and models with smooth surfaces and fine features.</p>
        </div>
        <div class="service card">
          <h3>Functional Parts</h3>
          <p>Load-bearing and fit-critical parts using engineering-grade materials and tuned print settings.</p>
        </div>
        <div class="service card">
          <h3>Finishing & Assembly</h3>
          <p>Sanding, priming, painting, solvent smoothing, epoxy coating and assembled sub-assemblies delivered ready to use.</p>
        </div>
      </div>
    </section>

    <section id="pricing" class="split">
      <div>
        <h2>How it works</h2>
        <div class="steps">
          <div class="step card">
            <div class="num">1</div>
            <div>
              <strong>Upload</strong>
              <div class="small">Send file with instructions. We check printability in 24 hours.</div>
            </div>
          </div>

          <div class="step card">
            <div class="num">2</div>
            <div>
              <strong>Estimate</strong>
              <div class="small">We quote material, time and finish options. You approve and pay.</div>
            </div>
          </div>

          <div class="step card">
            <div class="num">3</div>
            <div>
              <strong>Print & finish</strong>
              <div class="small">We print, test-fit and apply requested post-processing.</div>
            </div>
          </div>

          <div class="step card">
            <div class="num">4</div>
            <div>
              <strong>Deliver or pickup</strong>
              <div class="small">Local pickup or delivery.</div>
            </div>
          </div>
        </div>
      </div>

      <aside>
        <div class="quote-calculator">
          <h2>Quick Quote Calculator</h2>
          <p class="note">Get an instant estimate for your print</p>
          
          <div class="calculator-form">
            <div class="form-group">
              <label for="calc-size">Print Size</label>
              <select id="calc-size">
                <option value="10">Small (up to 5cm) - $5 base</option>
                <option value="25">Medium (5-15cm) - $10 base</option>
                <option value="50">Large (15-20cm) - $25 base</option>
              </select>
            </div>

            <div class="form-group">
              <label for="calc-material">Material</label>
              <select id="calc-material">
                <option value="1">PLA (Standard)</option>
                <option value="1.5">PLA+ (Premium) +50%</option>
                <option value="2">PETG +100%</option>
              </select>
            </div>

            <div class="form-group">
              <label for="calc-finish">Finishing</label>
              <select id="calc-finish">
                <option value="1">None</option>
                <option value="1.3">Basic sanding +30%</option>
                <option value="1.6">Prime & paint +60%</option>
                <option value="2">Premium finish +100%</option>
              </select>
            </div>

            <div class="form-group">
              <label for="calc-qty">Quantity</label>
              <input type="number" id="calc-qty" min="1" max="100" value="1" />
            </div>

            <button class="cta" onclick="calculateQuote()">Calculate</button>
          </div>

          <div id="calculator-result" class="calculator-result" style="display:none">
            <div class="small">Estimated Cost</div>
            <div class="estimate" id="estimate-amount">$0</div>
            <p class="note">This is a rough estimate. Contact us for accurate pricing based on your specific design.</p>
            <a class="cta topmargin" href="#contact" style="display:inline-block">Get Accurate Quote</a>
          </div>
        </div>
      </aside>
    </section>

    <section class="faq">
      <h2>FAQ</h2>
      <details><summary>What file types do you accept?</summary><div class="small">We accept .stl, .obj, .3mf, STEP for assemblies.</div></details>
      <details><summary>How will you deliver it</summary><div class="small">Pick up or local delivery; we can also ship nationwide at cost.</div></details>
      <details><summary>Do you offer design help?</summary><div class="small">Yes — CAD tweaks and design-for-manufacturability (DFM) available.</div></details>
    </section>

    <section id="contact" class="contact">
      <div class="card">
        <h2>Contact & quote</h2>
        <p class="note">Email <a href="mailto:contact@maniaprint.online" style="color:var(--accent);cursor:pointer">contact@maniaprint.online</a> or use the quick order above.</p>
        <p class="note"><strong>Location:</strong> Brisbane, QLD — local pickup available.</p>
        <p class="note">Instagram - <a href="https://instagram.com/ManiaPrint3D" target="_blank" style="color:var(--accent);cursor:pointer">@ManiaPrint3D</a><br>TikTok - <a href="https://tiktok.com/@ManiaPrint3D" target="_blank" style="color:var(--accent);cursor:pointer">@ManiaPrint3D</a></p>
      </div>

      <aside class="card">
        <h3>Send a message</h3>
        <form id="contactForm" action="https://getform.io/f/bqoelodb" method="POST" class="fieldset">
          <input id="name" name="name" placeholder="Your name" required />
          <input id="contactEmail" name="email" type="email" placeholder="you@example.com" required />
          <input id="subject" name="subject" placeholder="Subject (e.g. Quote for 3 parts)" />
          <textarea id="message" name="message" rows="5" placeholder="Give a short description: material, color, finish, quantity"></textarea>
          <button class="cta" id="contactSubmit" type="submit">Send</button>
          <div id="contactStatus" class="note" style="display:none;margin-top:8px"></div>
        </form>
      </aside>
    </section>

  </main>

  <footer class="container">
    <div class="small">© Mania Print — made with filament & cookies 🍪</div>
    <div class="small">
      <a href="terms" style="color:var(--muted);text-decoration:none">Terms of Service</a> 
    </div>
  </footer>

  <script>
    // Navigation active state
    document.addEventListener('DOMContentLoaded', () => {
      const currentPath = window.location.pathname;
      const currentHash = window.location.hash;
      const navLinks = document.querySelectorAll('.nav a');
      
      navLinks.forEach(link => {
        const href = link.getAttribute('href');
        if (currentHash && href === currentHash) {
          link.classList.add('nav-active');
        } else if (href.includes('index.html') && !currentPath.includes('products')) {
          if (!currentHash && (href === 'index.html' || href === '../index.html')) {
            link.classList.add('nav-active');
          }
        }
      });
      
      navLinks.forEach(link => {
        link.addEventListener('click', () => {
          navLinks.forEach(l => l.classList.remove('nav-active'));
          link.classList.add('nav-active');
        });
      });
    });

    // Quote Calculator
    function calculateQuote() {
      const size = parseFloat(document.getElementById('calc-size').value);
      const material = parseFloat(document.getElementById('calc-material').value);
      const finish = parseFloat(document.getElementById('calc-finish').value);
      const qty = parseInt(document.getElementById('calc-qty').value);

      const basePrice = size * material * finish;
      const bulkDiscount = qty >= 5 ? 0.9 : qty >= 10 ? 0.8 : 1;
      const total = basePrice * qty * bulkDiscount;

      document.getElementById('estimate-amount').textContent = '$' + total.toFixed(2);
      document.getElementById('calculator-result').style.display = 'block';
    }

    // Material dropdown
    const materialBtn = document.querySelector('#material-dropdown .custom-select-button');
    const materialOpts = document.querySelector('#material-dropdown .custom-select-options');
    const materialSelect = document.getElementById('uploadMaterial');

    if (materialBtn) {
      materialBtn.addEventListener('click', () => materialOpts.classList.toggle('hidden'));
      
      document.querySelectorAll('#material-dropdown .custom-select-option').forEach(opt => {
        opt.addEventListener('click', () => {
          if (opt.classList.contains('disabled')) return;
          const value = opt.getAttribute('data-value');
          materialSelect.value = value;
          materialBtn.textContent = opt.textContent.replace('More Coming Soon!', 'PLA') + ' ▾';
          materialOpts.classList.add('hidden');
        });
      });
      
      document.addEventListener('click', (e) => {
        if (!e.target.closest('#material-dropdown')) {
          materialOpts.classList.add('hidden');
        }
      });
    }

    // Upload form
    const uploadForm = document.getElementById('uploadForm');
    const contactForm = document.getElementById('contactForm');
    const uploadStatus = document.getElementById('uploadStatus');
    const contactStatus = document.getElementById('contactStatus');
    const uploadFile = document.getElementById('uploadFile');
    const MAX_FILE_SIZE = 5 * 1024 * 1024;

    uploadFile.addEventListener('change', (e) => {
      const file = e.target.files[0];
      if (file && file.size > MAX_FILE_SIZE) {
        uploadStatus.style.display = 'block';
        uploadStatus.style.color = '#ff5252';
        uploadStatus.textContent = `⚠️ File too large (${(file.size / 1024 / 1024).toFixed(1)}MB). Please email files over 5MB to contact@maniaprint.online`;
        uploadFile.value = '';
      } else {
        uploadStatus.style.display = 'none';
      }
    });

    uploadForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      const file = uploadFile.files[0];
      if (file && file.size > MAX_FILE_SIZE) {
        uploadStatus.style.display = 'block';
        uploadStatus.style.color = '#ff5252';
        uploadStatus.textContent = '⚠️ File too large. Email large files to contact@maniaprint.online';
        return;
      }

      const submitBtn = uploadForm.querySelector('button[type="submit"]');
      submitBtn.disabled = true;
      submitBtn.textContent = 'Sending...';
      uploadStatus.style.display = 'block';
      uploadStatus.textContent = file ? 'Uploading file & details...' : 'Sending your request...';

      const formData = new FormData(uploadForm);

      try {
        const response = await fetch(uploadForm.action, {
          method: 'POST',
          body: formData,
          headers: {'Accept': 'application/json'}
        });

        if (response.ok) {
          uploadStatus.textContent = file ? '✅ File uploaded! We\'ll review it and email you within 24 hours.' : '✅ Request sent! We\'ll get back to you within 24 hours.';
          uploadStatus.style.color = '#4fc3f7';
          uploadForm.reset();
        } else {
          throw new Error('Failed to send');
        }
      } catch (error) {
        uploadStatus.textContent = '❌ Upload failed. Please email your file directly to contact@maniaprint.online';
        uploadStatus.style.color = '#ff5252';
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = 'Send request';
      }
    });

    contactForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      const submitBtn = contactForm.querySelector('button[type="submit"]');
      submitBtn.disabled = true;
      submitBtn.textContent = 'Sending...';
      contactStatus.style.display = 'block';
      contactStatus.textContent = 'Sending your message...';

      const formData = new FormData(contactForm);

      try {
        const response = await fetch(contactForm.action, {
          method: 'POST',
          body: formData,
          headers: {'Accept': 'application/json'}
        });

        if (response.ok) {
          contactStatus.textContent = '✅ Message sent! We\'ll reply ASAP.';
          contactStatus.style.color = '#4fc3f7';
          contactForm.reset();
        } else {
          throw new Error('Failed to send');
        }
      } catch (error) {
        contactStatus.textContent = '❌ Failed to send. Email us at contact@maniaprint.online instead.';
        contactStatus.style.color = '#ff5252';
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = 'Send';
      }
    });
  </script>
</body>
</html>
